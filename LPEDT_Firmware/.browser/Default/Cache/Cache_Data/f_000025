"use strict";(globalThis["webpackChunkinstaller"]=globalThis["webpackChunkinstaller"]||[]).push([[284],{4303:(e,t,s)=>{s.r(t),s.d(t,{default:()=>gt});var l=s(9835),n=s(6970);const i=e=>((0,l.dD)("data-v-79dff81f"),e=e(),(0,l.Cn)(),e),a={class:"page"},o=i((()=>(0,l._)("br",null,null,-1))),d={class:"extensions-container"},r={class:"extensions-title"},c={class:"row"},u={class:"impacted-extensions-container"},g={key:0,class:"extensions-title"},p={key:1,class:"extensions-title"},h={key:0},m={key:1},k={class:"release-notes"},w={class:"release-notes"},b={key:1};function x(e,t,s,i,x,f){const D=(0,l.up)("UpdateMessage"),v=(0,l.up)("q-badge"),I=(0,l.up)("q-btn"),E=(0,l.up)("q-item-section"),_=(0,l.up)("q-item"),S=(0,l.up)("installation-row"),y=(0,l.up)("ExtensionsContainer"),C=(0,l.up)("ExtensionVersionSelector"),V=(0,l.up)("confirmation-dialog"),q=(0,l.up)("q-dialog"),K=(0,l.up)("expandable"),U=(0,l.up)("Tile"),W=(0,l.up)("SdkContainer"),Z=(0,l.up)("expandable-tile"),$=(0,l.up)("location-selector"),B=(0,l.up)("q-separator"),L=(0,l.up)("version-selector"),T=(0,l.up)("q-space"),P=(0,l.up)("q-checkbox"),Q=(0,l.up)("q-card"),z=(0,l.up)("q-card-section"),A=(0,l.up)("q-scroll-area"),j=(0,l.up)("PackageManagerLoadingAnimation"),N=(0,l.Q2)("-if"),R=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",a,[(0,l.Wm)(D,{msg:x.msg},null,8,["msg"]),!1===f.showBusy?((0,l.wg)(),(0,l.j4)(A,{key:0,id:"scrollArea",style:(0,n.j5)(f.getControlHeight),"onHook:mounted":f.onResize},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.filteredSdkCategories(e.sdkCategories,!1),(s=>((0,l.wg)(),(0,l.j4)(U,{key:s.id,icon:s.imageUrl,title:s.label,description:s.desc},(0,l.Nv)({"primary-action":(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(I,{"no-caps":"",flat:"",label:e.$t("InstallNew"),class:(0,n.C_)(e.updatePackages.productUpdates?"button-disable":"button-secondary"),disable:!!e.updatePackages.productUpdates,onClick:e=>f.openInstallationDialog(s)},null,8,["label","class","disable","onClick"]),[[N,s.installable.length>0]])])),default:(0,l.w5)((()=>[!s.legacy&&s.installed.length>0?((0,l.wg)(),(0,l.j4)(K,{key:0,label:e.$t("Installations"),defaultExpanded:!0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.sortedInstalledSdkCategories(s.installed),(i=>((0,l.wg)(),(0,l.iD)("div",{key:i.id},[(0,l.Wm)(S,{prefix:e.$t("Location")+":",leftLabel:i.location,rightLabel:i.version,showBadge:!f.isLatestSdk(i,s.latest)&&!f.isP2Repository(s),disableDotsButton:e.updatePackages.productUpdates},{"right-action":(0,l.w5)((()=>[])),default:(0,l.w5)((()=>[(0,l._)("div",null,[f.isP2Repository(s)?(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{key:0,clickable:"",onClick:e=>f.openReleaseNoteDialog(i)},{default:(0,l.w5)((()=>[(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("ReleaseNotes")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]]):(0,l.kq)("",!0),f.isLatestSdk(i,s.latest)||f.isP2Repository(s)?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{key:1,clickable:"",onClick:e=>f.openVersionDialog(i,s,!0)},{default:(0,l.w5)((()=>[f.isLatestSdk(i,s.latest)?((0,l.wg)(),(0,l.j4)(E,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1})):((0,l.wg)(),(0,l.j4)(E,{key:1,style:{color:"var(--q-negative)"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1}))])),_:2},1032,["onClick"])),[[R]]),f.isP2Repository(s)?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{key:2,clickable:"",onClick:e=>f.openVersionDialog(i,s)},{default:(0,l.w5)((()=>[(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("ChangeVersionLabel")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(_,{clickable:"",onClick:e=>f.confirmUnInstall(i,s.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("Uninstall")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]])])])),_:2},1032,["prefix","leftLabel","rightLabel","showBadge","disableDotsButton"]),f.showInstallableExtensions(i)?((0,l.wg)(),(0,l.j4)(y,{key:0,extensionsList:f.getInstallableExtensions(i),currentSDK:i,showTopTxt:!1,disableButtons:e.updatePackages.productUpdates,onOpenExtensionInstallDialog:f.confirmExtInstallDialog,onOpenExtensionVersionDialog:f.openExtVersionDialog,onConfirmExtensionUninstall:f.confirmExtUnInstall},null,8,["extensionsList","currentSDK","disableButtons","onOpenExtensionInstallDialog","onOpenExtensionVersionDialog","onConfirmExtensionUninstall"])):(0,l.kq)("",!0),x.extensionVersionDialog?((0,l.wg)(),(0,l.j4)(q,{key:1,modelValue:x.extensionVersionDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>x.extensionVersionDialog=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"install-dialog",onConfirmClicked:t[0]||(t[0]=e=>f.changeExtensionVersion(x.sdkForExtensionChangeVersion.id,x.selectedInstalledExtension.id,x.selectedExtensionVersion)),title:e.$t("ChangeVersionTitle")+x.selectedInstalledExtension.label,confirmDisabled:x.selectedInstalledExtension.installedVersion===x.selectedExtensionVersion},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{onSelected:f.setSelectedExtensionVersion,options:x.selectedInstalledExtension.installableVersions,selected:x.selectedExtensionVersion,installedVersion:x.selectedInstalledExtension.installedVersion},null,8,["onSelected","options","selected","installedVersion"])])),_:1},8,["title","confirmDisabled"])])),_:1},8,["modelValue"])):(0,l.kq)("",!0)])))),128))])),_:2},1032,["label"])):(0,l.kq)("",!0)])),_:2},[0===s.installed.length||s.latest.installed?void 0:{name:"title",fn:(0,l.w5)((()=>[(0,l.Wm)(v,{color:"negative",align:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("New")),1)])),_:1})])),key:"0"}]),1032,["icon","title","description"])))),128)),(0,l.Wm)(Z,{label:e.$t("LegacySdks"),defaultExpanded:!1},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.filteredSdkCategories(e.sdkCategories,!0),(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[o,(0,l.Wm)(W,{sdkCategory:t,expanded:!1,disableButtons:e.updatePackages.productUpdates},null,8,["sdkCategory","disableButtons"])])))),128))])),_:1},8,["label"]),(0,l.Wm)(q,{modelValue:x.installationDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>x.installationDialog=e)},{default:(0,l.w5)((()=>[x.selectedSDK?((0,l.wg)(),(0,l.j4)(V,{key:0,class:"install-dialog",onConfirmClicked:t[3]||(t[3]=t=>f.installNewSDK(x.selectedSDK.id,x.selectedSDK.version,e.verifyLocation.location)),title:e.$t("InstallNewTitle")+x.selectedSDK.label,confirmDisabled:!e.verifyLocation.isValid},{default:(0,l.w5)((()=>["git"===x.selectedSDKCategory.repositoryType?((0,l.wg)(),(0,l.j4)($,{key:0,defaultLocation:x.selectedSDK.preferredLocation},null,8,["defaultLocation"])):(0,l.kq)("",!0),(0,l.Wm)(B),(0,l.Wm)(L,{onSelected:f.setSelectedSDKAndExtensions,options:x.selectedSDKCategory.installable,selected:x.selectedSDK,installedSdks:x.selectedSDKCategory.installed},null,8,["onSelected","options","selected","installedSdks"]),(0,l.Wm)(T),(0,l._)("div",d,[(0,l._)("p",r,[(0,l._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.selectedSDK.extensions,(e=>((0,l.wg)(),(0,l.j4)(Q,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(P,{color:"primary",modelValue:x.selectedExtensionsToInstall,"onUpdate:modelValue":t[2]||(t[2]=e=>x.selectedExtensionsToInstall=e),id:e.id,val:e.id,label:f.getNewInstallableExtensionLabel(e)},null,8,["modelValue","id","val","label"]),(0,l.Wm)(T),(0,l.kq)("",!0)])])),_:2},1024)))),128))])])),_:1},8,["title","confirmDisabled"])):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),x.versionDialog?((0,l.wg)(),(0,l.j4)(q,{key:0,modelValue:x.versionDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>x.versionDialog=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"install-dialog",onConfirmClicked:t[7]||(t[7]=e=>f.changeSDKVersion(x.installedSDK.id,x.selectedSDK.version)),title:e.$t("ChangeVersionTitle")+x.installedSDK.label,confirmDisabled:x.installedSDK.version===x.selectedSDK.version},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{onSelected:f.setSelectedSDKAndImpactedExtensions,isDirty:f.setSelectedSDKAndImpactedExtensions.dirty&&x.installedSDK.version!==x.selectedSDK.version,options:x.selectedSDKCategory.installable,selected:x.selectedSDK,installedSdks:x.selectedSDKCategory.installed},null,8,["onSelected","isDirty","options","selected","installedSdks"]),(0,l._)("div",u,[(0,l._)("div",null,[f.selectedSdkIsInstalled()?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",g,[(0,l._)("strong",null,(0,n.zw)(e.$t("ImpactedExtensions")),1)])),f.selectedSdkIsInstalled()?((0,l.wg)(),(0,l.iD)("p",p,[(0,l._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)])):(0,l.kq)("",!0)]),f.selectedSdkIsInstalled()?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",h,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.getInstallableImpactedExtensions,(e=>((0,l.wg)(),(0,l.j4)(Q,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{color:"primary",modelValue:x.selectedExtensionsToInstall,"onUpdate:modelValue":[t[5]||(t[5]=e=>x.selectedExtensionsToInstall=e),t[6]||(t[6]=e=>{f.onImpactedExtensionSelected(e)})],id:e.id,val:e.id,label:e.impact,disable:x.disableImpactedExtensions},null,8,["modelValue","id","val","label","disable"]),(0,l.Wm)(T)])),_:2},1024)))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.getInstalledImpactedExtensions,(e=>((0,l.wg)(),(0,l.j4)(Q,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,n.zw)(e.impact),1)])),_:2},1024)))),128))])),f.selectedSdkIsInstalled()?((0,l.wg)(),(0,l.iD)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.getInstalledExtensionsForInstalledSdk,(e=>((0,l.wg)(),(0,l.j4)(Q,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,n.zw)(e.label)+" - "+(0,n.zw)(e.installedVersion),1)])),_:2},1024)))),128))])):(0,l.kq)("",!0)])])),_:1},8,["title","confirmDisabled"])])),_:1},8,["modelValue"])):(0,l.kq)("",!0),x.releaseNoteDialog?((0,l.wg)(),(0,l.j4)(q,{key:1,modelValue:x.releaseNoteDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>x.releaseNoteDialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{title:e.$t("ReleaseNotesFor")+x.installedSDK.label,confirmLabel:"Ok",cancelButton:!1},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l._)("div",k,(0,n.zw)(x.installedSDK.releaseNote),1)])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])):(0,l.kq)("",!0),x.extensionReleaseNoteDialog?((0,l.wg)(),(0,l.j4)(q,{key:2,modelValue:x.extensionReleaseNoteDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>x.extensionReleaseNoteDialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{title:e.$t("ReleaseNotesFor")+this.selectedExtension.label,confirmLabel:"Ok",cancelButton:!1},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,n.zw)(this.selectedExtension.desc),1)])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])):(0,l.kq)("",!0)])),_:1},8,["style","onHook:mounted"])):(0,l.kq)("",!0),!0===f.showBusy?((0,l.wg)(),(0,l.iD)("div",b,[(0,l.Wm)(j)])):(0,l.kq)("",!0)])}s(9665);var f=s(3100),D=s(4853),v=s(4480),I=s(1957);const E=e=>((0,l.dD)("data-v-d98450b8"),e=e(),(0,l.Cn)(),e),_={class:"row items-center col"},S={class:"label-style label-pos"},y={class:"right col"},C={class:"row items-center justify-end"},V={key:0},q={class:"pkg-col"},K=E((()=>(0,l._)("br",null,null,-1)));function U(e,t,s,i,a,o){const d=(0,l.up)("q-badge"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-icon"),u=(0,l.up)("Package"),g=(0,l.up)("q-slide-transition");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l._)("div",{class:(0,n.C_)(["card",{expandedCard:a.headerExpanded&&(s.sdkCategory.installable.length>0||s.sdkCategory.installed.length>0)}])},[(0,l._)("div",{class:"row items-center sdkGrantedHeaderTile",onClick:t[1]||(t[1]=e=>a.headerExpanded=!a.headerExpanded)},[(0,l._)("div",_,[(0,l._)("div",S,(0,n.zw)(s.sdkCategory.label),1),o.updateableCnt(s.sdkCategory.installed)>0?((0,l.wg)(),(0,l.j4)(d,{key:0,class:"self-start",color:"negative",align:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.updateableCnt(s.sdkCategory.installed)),1)])),_:1})):(0,l.kq)("",!0),(0,l._)("div",y,[(0,l._)("div",C,[(0,l.Wm)(r,{class:(0,n.C_)(s.disableButtons?"mass-install buttonDisable":"mass-install"),disable:!!s.disableButtons,ref:"installButton",onClickCapture:t[0]||(t[0]=(0,I.iM)((e=>o.installOrUninstallAll(s.sdkCategory)),["stop"])),id:s.sdkCategory.id,"no-caps":"",label:o.installButtonLabel(s.sdkCategory)},null,8,["class","disable","id","label"]),(0,l.Wm)(c,{class:(0,n.C_)(["iconChevronClass",{invisible:s.sdkCategory.installable.length<=0&&s.sdkCategory.installed.length<=0}]),name:a.headerExpanded?e.mdiChevronDown:e.mdiChevronUp},null,8,["class","name"])])])])]),s.sdkCategory.installable.length>0||s.sdkCategory.installed.length>0?((0,l.wg)(),(0,l.iD)("div",V,[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l._)("div",q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.allPackages(),(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(u,{studioPackage:e,categories:a.categories},null,8,["studioPackage","categories"]),K])))),128))])],512),[[I.F8,a.headerExpanded]])])),_:1})])):(0,l.kq)("",!0)],2)])])}var W=s(2670),Z=s(9181),$=s(6412);const B={name:"SdkContainer",mixins:[$.Z],props:["sdkCategory","expanded","disableButtons"],data(){return{categories:["sdk","stack"],headerExpanded:this.expanded}},created(){this.mdiChevronDown=W.CW,this.mdiChevronUp=W.Waq},methods:{installOrUninstallAll(e){"Install All"===this.$refs.installButton.label?this.doInstallAll(e):this.doUninstallAll(e)},doInstallAll(e){let t=[];e.installable.forEach((e=>{t.push(e.id)})),this.installMultiplePackages(t,this.categories)},doUninstallAll(e){let t={packages:[]};e.installed.forEach((e=>{t.packages.push({id:e.id,version:e.version,location:""})})),this.$store.dispatch("install/deleteSDK",t)},installButtonLabel(e){return 0!=e.installable.length?"Install All":"Uninstall All"},sdkPackageToClasicPackage(e,t){return{...e,hasIncludedPkgIds:!1,isInstalled:t,installEnabled:!0,installVisible:this.installVisible(e),installState:this.calcInstallState(e,t),releaseNotes:e.releaseNote,featurePackageId:e.id}},calcInstallState(e,t){return t?"updateable"in e&&e.updateable?"Update":"Uninstall":"Install"},installVisible(e){return!("dependency"in e)||!e.dependency},allPackages(){let e=this.sdkCategory.installed.map((e=>this.sdkPackageToClasicPackage(e,!0))).concat(this.sdkCategory.installable.map((e=>this.sdkPackageToClasicPackage(e,!1))));return e},updateableCnt(e){let t=0;return e&&e.length>0&&e.forEach((e=>{e.updateable&&t++})),t}},components:{Package:Z.Z}};var L=s(1639),T=s(990),P=s(8879),Q=s(2857),z=s(9003),A=s(9984),j=s.n(A);const N=(0,L.Z)(B,[["render",U],["__scopeId","data-v-d98450b8"]]),R=N;j()(B,"components",{QBadge:T.Z,QBtn:P.Z,QIcon:Q.Z,QSlideTransition:z.Z});var H=s(5358);const M={class:"expandable-container"},O={class:"row"};function F(e,t,s,i,a,o){const d=(0,l.up)("q-icon"),r=(0,l.up)("q-slide-transition");return(0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",O,[(0,l._)("div",{class:"exapandable-header",onClick:t[0]||(t[0]=e=>a.isExpanded=!a.isExpanded)},[(0,l.Wm)(d,{name:a.isExpanded?e.mdiMenuDown:e.mdiMenuRight},null,8,["name"]),(0,l._)("span",null,[(0,l._)("strong",null,(0,n.zw)(s.label),1)])])]),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l.WI)(e.$slots,"default",{},void 0,!0)],512),[[I.F8,a.isExpanded]])])),_:3})])}const Y={name:"Expandable",props:["label","defaultExpanded"],components:{},data(){return{isExpanded:!!this.defaultExpanded}},created(){this.mdiMenuRight=W.ozb,this.mdiMenuDown=W.iW9}},G=(0,L.Z)(Y,[["render",F],["__scopeId","data-v-50d3e247"]]),X=G;j()(Y,"components",{QIcon:Q.Z,QSlideTransition:z.Z});const J=e=>((0,l.dD)("data-v-36a777b7"),e=e(),(0,l.Cn)(),e),ee={class:"expandable-tile"},te={class:"row"},se={class:"label-style"},le={class:"right"},ne={class:"row items-center justify-end"},ie=J((()=>(0,l._)("br",null,null,-1)));function ae(e,t,s,i,a,o){const d=(0,l.up)("q-icon"),r=(0,l.up)("q-slide-transition"),c=(0,l.up)("Tile");return(0,l.wg)(),(0,l.j4)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("div",{class:"expandable-header",onClick:t[0]||(t[0]=e=>a.isExpanded=!a.isExpanded)},[(0,l._)("div",se,(0,n.zw)(s.label),1),(0,l._)("div",le,[(0,l._)("div",ne,[(0,l.Wm)(d,{class:"iconChevronClass",name:a.isExpanded?e.mdiChevronDown:e.mdiChevronUp},null,8,["name"])])]),ie])]),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l.WI)(e.$slots,"default",{},void 0,!0)],512),[[I.F8,a.isExpanded]])])),_:3})])])),_:3})}const oe={props:["label","defaultExpanded"],components:{Tile:v.Z},data(){return{isExpanded:!!this.defaultExpanded}},created(){this.mdiChevronDown=W.CW,this.mdiChevronUp=W.Waq}},de=(0,L.Z)(oe,[["render",ae],["__scopeId","data-v-36a777b7"]]),re=de;j()(oe,"components",{QIcon:Q.Z,QSlideTransition:z.Z});const ce={class:"row_container"};function ue(e,t,s,i,a,o){const d=(0,l.up)("q-badge"),r=(0,l.up)("q-list"),c=(0,l.up)("q-menu"),u=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",ce,[(0,l._)("div",null,[(0,l.Uk)((0,n.zw)(s.prefix)+" ",1),(0,l._)("span",null,(0,n.zw)(s.leftLabel),1)]),(0,l._)("div",null,[(0,l._)("span",null,(0,n.zw)(s.rightLabel),1),(0,l.WI)(e.$slots,"right-action",{},void 0,!0),e.$slots.default?((0,l.wg)(),(0,l.j4)(u,{key:0,icon:a.dotsIcon,class:(0,n.C_)(s.disableDotsButton?"dotsButton button-disable":"dotsButton"),flat:"",padding:"sm",disable:!!s.disableDotsButton},{default:(0,l.w5)((()=>[s.showBadge?((0,l.wg)(),(0,l.j4)(d,{key:0,color:"negative",rounded:"",floating:""})):(0,l.kq)("",!0),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["icon","class","disable"])):(0,l.kq)("",!0)])])}const ge={props:["prefix","leftLabel","rightLabel","showBadge","disableDotsButton"],data(){return{dotsIcon:W.XMI}}};var pe=s(6362),he=s(3246);const me=(0,L.Z)(ge,[["render",ue],["__scopeId","data-v-8a4fddd2"]]),ke=me;j()(ge,"components",{QBtn:P.Z,QBadge:T.Z,QMenu:pe.Z,QList:he.Z});var we=s(3571);const be=e=>((0,l.dD)("data-v-79468cda"),e=e(),(0,l.Cn)(),e),xe={key:0,class:"q-ml-sm info"},fe=be((()=>(0,l._)("strong",null,"Warning! Local changes to your installation will be discarded.",-1))),De=be((()=>(0,l._)("div",{class:"q-ml-sm"},[(0,l._)("strong",null,"Versions:")],-1))),ve=be((()=>(0,l._)("div",{class:"q-ml-sm"},[(0,l._)("strong",null,"Release Notes:")],-1))),Ie={class:"format"};function Ee(e,t,s,i,a,o){const d=(0,l.up)("q-icon"),r=(0,l.up)("q-select"),c=(0,l.up)("q-card-section"),u=(0,l.up)("q-scroll-area");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[s.isDirty?((0,l.wg)(),(0,l.iD)("div",xe,[(0,l.Wm)(d,{name:a.infoIcon},null,8,["name"]),fe])):(0,l.kq)("",!0),De,(0,l.Wm)(r,{id:"select-version",outlined:"",dense:"","options-dense":"",modelValue:a.model,"onUpdate:modelValue":[t[0]||(t[0]=e=>a.model=e),o.selectVersion],options:s.options,"option-value":e=>e.id,"option-label":e=>o.getVersionAndInstalledText(e)},null,8,["modelValue","options","option-value","option-label","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ve,o.showReleaseNotes(s.selected)?((0,l.wg)(),(0,l.j4)(u,{key:0,class:"releaseNotesArea"},{default:(0,l.w5)((()=>[(0,l._)("div",Ie,(0,n.zw)(s.selected.releaseNote),1)])),_:1})):(0,l.kq)("",!0)])),_:1})])}const _e={props:["options","selected","isDirty","installedSdks"],data(){return{model:this.selected,closeIcon:W.r5M,infoIcon:W._gM}},methods:{selectVersion(e){this.$emit("selected",e)},showReleaseNotes(e){return!(!e.releaseNote||""===e.releaseNote)},getVersionAndInstalledText(e){let t=this.installedSdks.find((t=>t.version===e.version));return void 0==t?e.version:e.version+" (installed)"}}};var Se=s(3190),ye=s(1362),Ce=s(6663);const Ve=(0,L.Z)(_e,[["render",Ee],["__scopeId","data-v-79468cda"]]),qe=Ve;j()(_e,"components",{QCardSection:Se.Z,QIcon:Q.Z,QSelect:ye.Z,QScrollArea:Ce.Z});const Ke=e=>((0,l.dD)("data-v-e9030516"),e=e(),(0,l.Cn)(),e),Ue={key:0,class:"q-ml-sm info"},We=Ke((()=>(0,l._)("strong",null,"Warning! Local changes to your installation will be discarded.",-1))),Ze=Ke((()=>(0,l._)("div",{class:"q-ml-sm"},[(0,l._)("strong",null,"Versions:")],-1)));function $e(e,t,s,n,i,a){const o=(0,l.up)("q-icon"),d=(0,l.up)("q-select"),r=(0,l.up)("q-card-section");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[s.isDirty?((0,l.wg)(),(0,l.iD)("div",Ue,[(0,l.Wm)(o,{name:i.infoIcon},null,8,["name"]),We])):(0,l.kq)("",!0),Ze,(0,l.Wm)(d,{id:"select-version",outlined:"",dense:"","options-dense":"",modelValue:i.model,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.model=e),a.selectVersion],options:s.options,"option-value":e=>e,"option-label":e=>a.getVersionAndInstalledText(e)},null,8,["modelValue","options","option-value","option-label","onUpdate:modelValue"])])),_:1}),(0,l.kq)("",!0)])}const Be={props:["options","selected","isDirty","installedVersion"],data(){return{model:this.selected,closeIcon:W.r5M,infoIcon:W._gM}},methods:{selectVersion(e){console.log("Inside VersionSelector#selectVersion getting ready to emit @selected"),this.$emit("selected",e)},getVersionAndInstalledText(e){return e!==this.installedVersion?e:e+" (installed)"}}},Le=(0,L.Z)(Be,[["render",$e],["__scopeId","data-v-e9030516"]]),Te=Le;j()(Be,"components",{QCardSection:Se.Z,QIcon:Q.Z,QSelect:ye.Z});var Pe=s(7920),Qe=s(2031);const ze={class:"extensions-container"},Ae={class:"extensions-title"},je={key:0,class:"q-ml-sm installed-color"},Ne={key:1,class:"q-ml-sm available-color"},Re={class:"row"},He={class:"q-ml-sm extension-label"};function Me(e,t,s,i,a,o){const d=(0,l.up)("q-space"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-item-section"),u=(0,l.up)("q-item"),g=(0,l.up)("ActionDots"),p=(0,l.up)("q-card"),h=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("p",Ae,[(0,l._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.extensionsList,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[((0,l.wg)(),(0,l.j4)(p,{key:t.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,l.w5)((()=>[s.showTopTxt&&o.extensionIsInstalled(t)?((0,l.wg)(),(0,l.iD)("div",je,[(0,l._)("strong",null,(0,n.zw)(e.$t("Installed"))+":",1)])):(0,l.kq)("",!0),s.showTopTxt&&!o.extensionIsInstalled(t)?((0,l.wg)(),(0,l.iD)("div",Ne,[(0,l._)("strong",null,(0,n.zw)(e.$t("Available"))+":",1)])):(0,l.kq)("",!0),(0,l._)("div",Re,[(0,l._)("div",He,[(0,l._)("strong",null,(0,n.zw)(o.getExtensionLabel(t)),1)]),(0,l.Wm)(d),o.extensionIsInstalled(t)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(r,{key:0,class:(0,n.C_)(s.disableButtons?"button-disable":"button-secondary button-pos"),disable:!!s.disableButtons,"no-caps":"",flat:"",label:e.$t("Install"),onClick:e=>o.openExtensionInstallDialog(t)},null,8,["class","disable","label","onClick"])),o.extensionIsInstalled(t)?((0,l.wg)(),(0,l.j4)(g,{key:1,class:"button-pos",showBadge:o.isUpdateAvailable(t),disableDotsButton:s.disableButtons},{"right-action":(0,l.w5)((()=>[])),default:(0,l.w5)((()=>[(0,l._)("div",null,[o.isUpdateAvailable(t)?(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{key:0,clickable:"",onClick:e=>o.openExtensionVersionDialog(t,!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{style:{color:"var(--q-negative)"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]]):(0,l.kq)("",!0),o.showChangeVersion(t)?(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{key:1,clickable:"",onClick:e=>o.openExtensionVersionDialog(t)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("ChangeVersionLabel")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]]):(0,l.kq)("",!0),(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{clickable:"",onClick:e=>o.confirmExtensionUnInstall(t)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("Uninstall")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]])])])),_:2},1032,["showBadge","disableDotsButton"])):(0,l.kq)("",!0)])])),_:2},1024))])))),128))])}const Oe={class:"row_container"};function Fe(e,t,s,i,a,o){const d=(0,l.up)("q-badge"),r=(0,l.up)("q-list"),c=(0,l.up)("q-menu"),u=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",Oe,[(0,l.WI)(e.$slots,"right-action",{},void 0,!0),e.$slots.default?((0,l.wg)(),(0,l.j4)(u,{key:0,icon:a.dotsIcon,class:(0,n.C_)(s.disableDotsButton?"dotsButton button-disable":"dotsButton"),flat:"",padding:"sm",disable:!!s.disableDotsButton},{default:(0,l.w5)((()=>[s.showBadge?((0,l.wg)(),(0,l.j4)(d,{key:0,color:"negative",rounded:"",floating:""})):(0,l.kq)("",!0),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["icon","class","disable"])):(0,l.kq)("",!0)])}const Ye={props:["showBadge","disableDotsButton"],data(){return{dotsIcon:W.XMI}}},Ge=(0,L.Z)(Ye,[["render",Fe],["__scopeId","data-v-6d36f286"]]),Xe=Ge;j()(Ye,"components",{QBtn:P.Z,QBadge:T.Z,QMenu:pe.Z,QList:he.Z});const Je={props:["extensionsList","currentSDK","showTopTxt","disableButtons"],components:{ActionDots:Xe},data(){return{}},methods:{extensionIsInstalled(e){return""!=e.installedVersion},showChangeVersion(e){return e.installableVersions.length>1&&this.extensionIsInstalled(e)},getExtensionLabel(e){let t=e.label;return!this.extensionIsInstalled(e)&&e.installableVersions.length>=1?t+=" - "+e.installableVersions[0]:t+=" - "+e.installedVersion,t},openExtensionInstallDialog(e){this.$emit("openExtensionInstallDialog",e,this.currentSDK)},openExtensionVersionDialog(e,t=!1){this.$emit("openExtensionVersionDialog",e,this.currentSDK,t)},confirmExtensionUnInstall(e){this.$emit("confirmExtensionUninstall",e,this.currentSDK)},isUpdateAvailable(e){return!0===e.updateAvailable}}};var et=s(4458),tt=s(136),st=s(490),lt=s(1233),nt=s(2146);const it=(0,L.Z)(Je,[["render",Me],["__scopeId","data-v-ee1e1986"]]),at=it;j()(Je,"components",{QCard:et.Z,QSpace:tt.Z,QBtn:P.Z,QItem:st.Z,QItemSection:lt.Z}),j()(Je,"directives",{ClosePopup:nt.Z});const ot={name:"PageSdk",components:{UpdateMessage:D.Z,VersionSelector:qe,Tile:v.Z,SdkContainer:R,Expandable:X,ExpandableTile:re,InstallationRow:ke,ConfirmationDialog:Pe.Z,PackageManagerLoadingAnimation:we.Z,LocationSelector:Qe.Z,ExtensionsContainer:at,ExtensionVersionSelector:Te},data(){return{loading:!0,refreshing:!1,installationDialog:!1,versionDialog:!1,msg:"SDKs",scrollHeight:"100%",currentCategory:null,installedSDK:null,selectedSDK:null,selectedSDKCategory:null,download:W.OGU,releaseNoteDialog:!1,extensionReleaseNoteDialog:!1,extensionVersionDialog:!1,selectedExtensionVersion:null,sdkForExtensionChangeVersion:null,selectedInstalledExtension:null,selectedExtension:null,selectedExtensionsToInstall:[],disableImpactedExtensions:!0}},mixins:[$.Z],created(){window.addEventListener("resize",this.onResize),this.getPackages()},watch:{stateRefreshing:function(){0!==this.$store.getters["notifications/refreshing"]?this.refreshing=!0:this.refreshing=!1},stateUpdated:function(){this.getPackages()},loading:{handler(e){this.loading||this.onResize()},flush:"post"},refreshing:{handler(e){this.refreshing||this.onResize()},flush:"post"}},computed:{...(0,f.rn)({sdkCategories:e=>e.sdkPackages.sdkCategories,stateUpdated:e=>e.notifications.stateUpdated,stateRefreshing:e=>e.notifications.stateRefreshing,verifyLocation:e=>e.install.verifyLocation,impactedExtensions:e=>e.sdkPackages.impactedExtensions,updatePackages:e=>e.updatePackages.updatePackages}),getControlHeight(){return"height: "+this.scrollHeight},showBusy(){return this.refreshing||this.loading},getInstallableImpactedExtensions(){let e=[];for(const t of this.impactedExtensions)t.install&&e.push(t);return e.slice().sort(((e,t)=>e.impact>t.impact?1:-1))},getInstalledImpactedExtensions(){let e=[];for(const t of this.impactedExtensions)t.install||e.push(t);return e.slice().sort(((e,t)=>e.impact>t.impact?1:-1))},getInstalledExtensionsForInstalledSdk(){if(!this.installedSDK||!this.installedSDK.extensions)return[];let e=[];for(const t of this.installedSDK.extensions)""!=t.installedVersion&&e.push(t);return e.slice().sort(((e,t)=>e.label>t.label?1:-1))}},unmounted(){window.removeEventListener("resize",this.onResize)},mounted(){this.onResize()},methods:{filteredSdkCategories(e,t){return e?e.filter((e=>e.legacy==t)):[]},sortedInstalledSdkCategories(e){return e.slice().sort(((e,t)=>t.version>e.version?1:-1))},isLatestSdk(e,t){return e.version===t.version},isP2Repository(e){return"p2"==e.repositoryType},selectedSdkIsInstalled(){return this.installedSDK.version==this.selectedSDK.version},installNewSDK(e,t,s){this.postInstallSDK(e,t,s,this.selectedExtensionToInstall)},changeSDKVersion(e,t){this.postInstallSDK(e,t,null,this.selectedExtensionsToInstall)},postInstallSDK(e,t,s){this.installSdkPackage(e,t,s,this.selectedExtensionsToInstall)},openInstallationDialog(e){this.selectedSDK=e.installable[0],this.selectedSDKCategory=e,this.installationDialog=!0,this.selectAllExtensionsForSDK(this.selectedSDK)},async openVersionDialog(e,t,s=!1){this.selectedSDK=s?t.latest:e,this.installedSDK=e,this.selectedSDKCategory=t,this.versionDialog=!0,this.getImpactedExtensions(e.id,this.selectedSDK.version)},openReleaseNoteDialog(e){this.releaseNoteDialog=!0,this.installedSDK=e},openExtensionReleaseNoteDialog(e){this.extensionReleaseNoteDialog=!0,this.selectedExtension=e},getPackages(){this.loading=!0;var e=this.$store.dispatch("sdkPackages/getSdks");e.then(this.turnLoadingOff,this.turnLoadingOff)},setSelectedSDKAndExtensions(e){this.selectedSDK=e,null!=this.selectedSDK.extensions&&this.selectAllExtensionsForSDK(this.selectedSDK)},async setSelectedSDKAndImpactedExtensions(e){this.selectedSDK=e,this.getImpactedExtensions(this.installedSDK.id,this.selectedSDK.version)},selectAllExtensionsForSDK(e){this.selectedExtensionsToInstall=[],e.extensions&&e.extensions.forEach((e=>{this.selectedExtensionsToInstall.push(e.id)}))},selectAllInstallableImpactedExtensions(){this.selectedExtensionsToInstall=[],this.getInstallableImpactedExtensions.forEach((e=>{this.selectedExtensionsToInstall.push(e.id)}))},async getImpactedExtensions(e,t){this.disableImpactedExtensions=!0;let s=[e,t];await this.$store.dispatch("sdkPackages/getImpactedExtensions",s),this.selectAllInstallableImpactedExtensions(),this.disableImpactedExtensions=!1},turnLoadingOff(){this.loading=!1},getInstallableExtensions(e){let t=[];if(!e.extensions)return t;for(const s of e.extensions)s.installableVersions.length>0&&t.push(s);return t.slice().sort(((e,t)=>e.label>t.label?1:-1))},showInstallableExtensions(e){return this.getInstallableExtensions(e).length>0},onImpactedExtensionSelected(e){this.selectedExtensionsToInstall=e},getNewInstallableExtensionLabel(e){return e.label+" - "+e.version},confirmUpdate(e,t){var s=this.$t("ConfirmUpdateStart")+e.label+this.$t("ConfirmUpdateEnd");this.$q.dialog({title:this.$t("UpdatePackage")+t.version,message:s,cancel:!0,persistent:!0}).onOk((()=>{this.changeSDKVersion(e.id,t.version)}))},confirmUnInstall(e){var t=this.$t("ConfirmUninstallStart")+e.label+this.$t("ConfirmUninstallEnd");this.$q.dialog({title:this.$t("UninstallPackage"),message:t,cancel:!0,persistent:!0}).onOk((()=>{let t={packages:[{id:e.id}]};this.$store.dispatch("install/deleteSDK",t)}))},confirmExtInstallDialog(e,t){let s=e.installableVersions[0];var l=this.$t("ConfirmInstallStart")+e.label+" - "+s+this.$t("ConfirmInstallEnd");this.$q.dialog({title:this.$t("InstallExtension"),message:l,cancel:!0,persistent:!0}).onOk((()=>{this.installExtension(t.id,e.id,s)}))},openExtVersionDialog(e,t,s=!1){this.selectedInstalledExtension=e,this.selectedExtensionVersion=s?e.latestVersion:e.installedVersion,this.sdkForExtensionChangeVersion=t,this.extensionVersionDialog=!0},setSelectedExtensionVersion(e){this.selectedExtensionVersion=e},changeExtensionVersion(e,t,s){this.installExtension(e,t,s)},confirmExtUnInstall(e,t){var s=this.$t("ConfirmUninstallStart")+e.label+" - "+e.installedVersion+this.$t("ConfirmUninstallEnd");this.$q.dialog({title:this.$t("UninstallExtension"),message:s,cancel:!0,persistent:!0}).onOk((()=>{this.unInstallExtension(t.id,e.id)}))},onResize(){this.scrollHeight=H.Z.calculateHeight("scrollArea","navigationToolbar")},install(e,t){this.installPackages(e,t)}}};var dt=s(7743),rt=s(926),ct=s(1221);const ut=(0,L.Z)(ot,[["render",x],["__scopeId","data-v-79dff81f"]]),gt=ut;j()(ot,"components",{QScrollArea:Ce.Z,QBadge:T.Z,QBtn:P.Z,QItem:st.Z,QItemSection:lt.Z,QDialog:dt.Z,QSeparator:rt.Z,QSpace:tt.Z,QCard:et.Z,QCheckbox:ct.Z,QCardSection:Se.Z}),j()(ot,"directives",{ClosePopup:nt.Z})}}]);